#### c语言概述

**当你成为C语言的高手,那么就你很容易进入到操作系统的平台里面去;当你进入到操作系统的平台里去实际做程序时,就会懂得进行调试;当你懂得调试的时候,你就会发现能轻而易举地了解整个平台的架构。这时候,计算机基本上一切都在你的掌握之中了,没有什么东西能逃得出你的手掌心。**

**图灵：只要把顺序，选择，循环三种结构组合在一起就能把所有的计算机问题解决。**

对一些小算法的程序：

尝试自己去编程解决它,大部分人都自己无法解决

如果解决不了就看答案

关键是吧答案看懂，这个要花很大的精力,也是我们学习的重点

看懂后尝试自已去修改程序,并且知道修改之后程序的不同输出结果的含义

照着答案去敲

调试错误

不看答案，自己独立把答案敲出来



#### 错误集合

段错误形式

1. 访问系统数据区，尤其是往系统保护的[内存地址]写数据最常见就是给一个指针以0地址。
2. 内存越界([数组]越界，变量类型不一致等)： 访问到不属于你的内存区域。

​	

#### 为什么学习C语言

1. c的起源和发展
   - 什么是结构化
   - 什么是面向对象
      - java和c#没有太大的区别
2. c的特点
   - 优点
      - 代码量小 速度快  功能强大
   - 缺点
      - 危险性高 开发周期长 可移植性不强
3. c的应用领域
4. c语言的重要性

2. 怎么学习C语言

3. 学c语言的目标

4. 常见问题答疑

5. 课程规划

   ![image-20191124183022617](D:\笔记\image\image-20191124183022617.png)



C语言编程预备知识

1. cpu；内存条；硬盘；显卡；主板；显示器之间的关系
   
   - 打开应用，硬盘->内存条->cpu->显示器（->主板，载体）
   
2. HelloWorld程序如何运行起来的
   
   - 编译器生成exe文件，执行程序是操作系统来的
   
3. 什么是数据类型
   - 基本数据类型
      1. 整数
         1. 整型	int     4个字节
         2. 长整型   long int    8个字节
         3. 短整型   short int     2个字节
      2. 浮点数【实数】
         1. 单精度浮点数    float	4个字节
         2. 双精度浮点数    double     8个字节
      3. 字符
         1. char（C语言里没有字符串）1个字节
   - 复合数据类型
      - 结构体
      - 枚举
      - 共用体（被淘汰了）
   
4. 什么是变量

   - int i  找到一个空闲的操作单元，把当做变量 i 使用（实际上就是把这个单元的地址和 i 关联起来）
   - i = 3  把 3存放到 i 所对应的操作单元中
   - 变量的本质就是内存中的一段存储空间

5. cpu 内存条 vc++6.0 操作系统 他们之间的关系

   - 软件请求操作系统在内存条中给一段操作空间

6. **变量为什么必须初始化**

   1. 所谓初始化就是赋值的意思
      - Visual studio 未初始化时数据为填充字
      - c-free 未初始化时数据为任意值
      - Dev c++未初始化的数据为0
   2. **软件运行与内存关系（垃圾数据）**
      - 内存是在操作系统的统一管理下使用的！
      - 软件在运行前需要向操作系统申请存储空间,在内存空闲空间足够时,操作系统将分配一段内存空间并将外存中软件拷贝一份存入该内存空间中,并启动该软件的运行!
      - 在软件运行期间,该软件所占内存空间不再分配给其他软件！
      - 当软件运行完毕后,操作系统将回收该内存空间***(注意操作系统并不清空孩内存空间中遗留下来的数据),***以便再次分配给其他软件使用。
      - 综上所述,一个软件所分配到的空间中极可能**存在着以前其他软件使用过后的残留数据**,这些数据被称之为**垃圾数据**
        所以通常情况下我们为一个变量,为一个数组,分配好存储空间之后都要对该内存空间初始化!

7. 如何定义变量

   - 数据类型	变量名	= 要赋的值
   - 数据类型    变量名；
   - 变量名   =   要赋的值

8. 什么是进制

   - %d 十进制输出
   - %x  十六进制输出      0x  表示十六进制
   - %o   八进制输出         0 （数字0）不是字母o

9. 常量在c语言中是怎么表示的 

   - 整数
   - 浮点数
     - 传统写法	float x = 3.2；//传统
     - 科学计数法   float x = 3.2e3，y = 123.12e-2；//x值为3200  y的值为1.2312
   - 字符
     - 单个字符有单引号括起来
     - 字符串用双引号括起来

10. 常量是以什么样的二进制代码存储在计算机里的

    - 整数是以补码的形式转化为二进制代码存储在计算机中的
    - 实数是以 IEEE754标准转化为二进制代码存储在计算机中的
    - 字符的本质实际也是与整数的存储方式相同

11. 代码规范化

    - 代码的可读性更强[容易让自已和别人更清楚的看懂程序]
    - 使程序更不容易出错

12. 什么是字节

    字节就是存储数据的单位,并且是硬件所能访问的最小单位

    1字节 = 8位

    1k =1024字节

    1m = 1024k

    1g = 1024m

13. **不同类型数据之间相互赋值的问题**

14. **什么是ASCII**

    ASCII 不是一个值,而是一种规定,
    ASCII 规定了不同的字符是使用哪个整数值去表示

15. 字符的存储【字符本质上与整数的存储方式相同】

#### 基本的输入和输出函数的用法

printf  ( )——将变量的内容输出到显示器上

​		四种用法

1.  printf("字符串\n");

2. printf("输出控制符"，输出参数)；

3. printf("输出控制符1 输出控制符2，，，，"，输出参数1，输出参数2)；

4. printf("输出控制符非输出控制符",输出参数)；

   ​	输出控制符包含如下	%d	%ld	%c	%f	%lf	%x(或者%x后者%#x)	%s	%o

为什么需要输出控制符

- 01组成的代码可以表示数据也可以表示指令
- 如果01组成的代码表示的是数据的话,那么同样的01代码组合以不同的输出格式输出就会有不同的输出结果		

scanf  ( )  【通过键盘将数据输入到变量中】

​		两种用法：

- scanf("输入控制符”,输入参数);	& i 表示i的地址 & 是一个取地址符
  - 将从键盘输入的字符转化为输入控制符所规定格式的数据
    然后存入以输入参数的值为地址的变量中
- scanf("非输入控制符输入控制符",输入参数);
  - 非输入控制符必须原样输入
  - 接下来,我们更详细地研究  scanf( ) 怎样读取输入。假设 scanf( )  根据一个%d转换说明读取一个整数  scanf( ) 函数每次读取一个字符,跳过所有的空白字符,直至遇到第1个非空白字符才开始读取。因为要读取整数,所以 scanf ( ) 希望发现一个数字字符或者一个符号(+或-)。如果找到一个数字或符号,它便保存该字符,并读取下一个字符。如果下一个字符是数字,它便保存该数字并读取下一个字符。 scanf ( )  不断地读取和保存字符,直至遇到非数字字符如果遇到一个非数字字符,它便认为读到了整数的末尾然后, scanf ( ) 把非数字字符放回输入。这意味着程序在下一次读取输入时,首先读到的是上一次读取丢弃的非数字字符。最后, scant()计算已读取数字(可能还有符号)相应的数值,并将计算后的值放入指定的变量中。 
  - 当%c格式的时候,会读取任何字符,包括换行和空格。
  - 当%c以外格式的时候,跳过空白符。
  - %s 不用加取地址符（数组名就是地址，如果在地址前加&，理论上这是取地址的地址， 这是一个非法访问）

#### 运算符

算数运算符:	+ 	-	*	/	% 

关系运算符：>	>=	<	<=	!=	==

逻辑运算符：！	&&（当左边表达式是假则右边表达式不执行）

​										||（当左边表达式是真则右边表达式不执行）

赋值运算符：=	+=	*=	/=	-=

序列点： https://blog.csdn.net/tsroad/article/details/49834261 

优先级别：算术>关系>逻辑>賦值

附录的一些琐碎的运算符知识

- 自增	自减
  - 直接在cup寄存器中执行
  - 前		++i	--i
  - 后        i++   i--
  - 异同
    - 相同：最终都是使 i 的值加一
    - 不同：前自增整体表达式的值是 i 加1之后的值
                    后自增整体表达式的值是 i 加1之前的值
  - 注意事项
    - 我们编程时应该尽量屏蔽掉前自增和后自增的差别
    - i++ 和 ++i 单独成一个语句,不要把它作为一个完整复合语句的一部分来使用
    - **顺序点**
      - **" , " 	 ";" 	 "( )"	表示顺序点**
- 三目运算符
  - “ ？”	“  ：”
- 逗号表达式
  - 从左到右执行

#### 流程控制

1. 什么是流程控制

   ​		程序代码执行的顺序

2. 流程控制的分类

   1. 顺序执行
   
   2. 选择执行
      - 定义：某些代码可能执行,也可能不执行,有选择的执行某些代码
      - 分类
        - if
          1. if最简单的用法  
          
          2. if的范围问题
          
          3. if…else…的用法
          
          4. if…else   if…else…的用法
          
          5. c语言对真假的处理
          
          6. if举例——求分数的等级
          
          7. if的常见问题解析
          
             - if
             - elseif
             - else（不写else逻辑上有漏洞）
          
             ![image-20191126191610211](D:\笔记\image\image-20191126191610211.png)
             
             1. switch
          
          - ```c
            switch(表达式)
            {
            	case 常量表达式1： 语句1
            	case 常量表达式2： 语句2
            		break
            	case 常量表达式3： 语句3
            	default： 语句4	
            }
            ```
          
          - 所有case后面的常量表达式为便于描述我们姑且称之为标签,这标签都只能是
          
          - (1) 枚举常量(有些书称之为枚举元素),(2) 数值常量,(3) 字符常量,(4) 常变量,(5)宏名中的一种,注意普通变量,枚举变量是不能作为标签使用的。
          
          - switch后面括号里的“表达式”允许是任何类型。
      
   3. 循环执行
   
      - 定义：某些代码会被重复执行
      
      - 分类
        - for
        - while
        - do…while
        
      - break和continue
      
        - continue：用于跳过本次循环余下的语句,转去判断是否需要执行下次循环
      
        - 在while语句中一定要把判断条件放到continue上面
      
        - ```c
          while（（ch = getchar()）!= '\n'）
          	continue;
          ```
      
          去除垃圾数据





#### 数组

数组在内存中是连续的

​	为什么需要数组

- 为了解决大量同类型数据的存储和使用问题
- 为了模拟现实世界

​	数组的分类

- 一维数组
  - 怎样定义一维数组
    - 为n个变量连续分配存储空间
    - 所有的变量数据类型必须相同
    - 所有变量所占的字节大小必须相等
    - **只有在定义数组的同时才可以整体赋值,其他情况下整体赋值都是错误的**
    - 一维数组名不代表数组中所有的元素
    - 一维数组名代表数组第一个元素的地址
- 二维数组
- 多维数组

#### 函数

职责设置单一，有更好的代码复用性  

return 终止函数

- 终止被调函数,向主调函数返回表达式的值
-  如果表达式为空,则只终止函数,不想被调函数返回任何值

栈（可以看数据结构的视频，**栈帧**）现阶段了解先入后出即可，函数栈的存储是从高位到低位的，即是从上往下递增的

- 压栈
- 出栈
- 递归


#### 变量的作用域和存储方式

按作用域分

- 全局变量
  - 在所有函数外部定义的变量叫做外部变量
  - 全局变量使用范围，从定义开始到整个程序结束
- 局部变量
  - 在一个函数内部定义的变量或者函数的形参都统称为局部变量
  - 局部变量使用范围：只能在本函数内使用
- 全局变量和局部变量命名冲突
  - 在一个函数内部如果定义的局部变量的名字和全局变量名一样的时候，局部变量会屏蔽全局变量

按变量的存储方式

- 静态变量
- 自动变量
- 寄存器（ cpu内部存数据的设备 ）变量

#### 指针（ c 语言的灵魂 ）

##### 	指针的重要性

- 表示一些复杂的数据结构
- 快速的传递数据
- 使函数返回一个以上的值
- 能直接访问硬件
- 能够方便的访问字符串
- 是理解面向对象语言中引用的基础

#####     指针的定义

地址：

​		内存单元的编号

​		从零开始的非负整数

​		范围

指针：

#####     指针的分类

1. 基本类型指针

   - 一个指针变量，无论它指向的变量占几个字节，该指针本身只占四个字节
   - 一个变量的地址，使用该变量的首地址来表示

2. 指针和数组
   * 指针和一维数组
     * 数组名
       
       * 一维数组名是一个指针常量，她存放的是一维数组的第一个元素的地址
       
     * 下标和指针的关系
       
       * 如果p是个指针变量，则p[i] 永远等价于 *（p+i）
       
     * 确定一个一维数组需要几个参数[如果一个函数要处理一个一维数组，则需要接受该数组的哪些信息]
     
       * 需要两个参数：
         * 数字第一个元素的地址
         * 数字的长度
     
     * 指针变量的运算
     
       * 指针变量不能相加，不能相乘，也不能相除
       * 如果两个指针变量指向的是同一块连续空间中的不同存储空间，则这两个指针变量才可以相减
     
     * 注意  *( pArr+i ) 等价于 pArr[ i ] ，也等价于b[ i ] ，也等价于 *( b+i )
     
     * ```c
       #include <stdio.h>
       
       void f(int * pArr,int len){
       
       	int i;
       	for(i = 0;i<len; ++i){
       		printf("%d ",pArr[i]);
       	}
       }
       
       int main(void){
       	
       	int b[6] = {-1,-2,-3,4,5,-6};
       	f(b,6);
       	for(i = 0;i<len; ++i){
       		printf("%d ",b[i]);
       	}
       	return 0;
       
       }
       ```
     





3. 指针和函数
   
   1. 可以使一个函数修改多个值
   
4. 指针和结构体

5. 多级指针

##### 指针的常见错误

```c
#include <stdio.h>

int main(void)
{
	int i = 5;
	int * p;
	int * q;
	
	p = &i; 
	//*q = p; //error 语法编译会出错
	//*q = *p; //eror
	p = q; //q是垃圾值，q赋值给p，p也变成垃圾值
	printf("%d\n",*q); /* q的空间是属于本程序的，所以本程序可以读写q的内容，但是如果q的内部是垃圾值，则本程序不能读写*q的内容，因为*q所代表的内存单元的控制权限并没有分配给本程序 */ 

}
```



##### 附注

*的含义

* 乘法

* 定义指针变量 int * p 定义了一个名字叫p的指针变量，int *表示p只能存放 int 变量的地址

* 指针运算符

  该运算符放在已经定义好的指针变量前面

  如果p是一个已经定义好的指针变量

  则 *p表示 以p的内容为地址的变量

如何通过被调函数修改主调函数普通变量的值

* 实参必须为该普通变量的地址

* 形参必须为指针变量

* 在被调函数中通过

  * *形参名 = 。。。。。

    的方式就可以修改主调函数相关变量的值

指针就是地址，地址就是指针

地址就是内存单元的编号

指针变量是存放地址的变量

指针和指针变量是两个不同的概念

注意：叙述时会把指针变量简称为指针，实际含义并不一样

```c
int * p ;/*
			p是变量的名字（指针变量），int * 表示p变量存放的是int类型变量			的地址
			int * p ; 不表示定义了一个叫做*p的变量
			int * p ; 应该理解为：p是变量名，p变量的数据类型是 int * 类			   型，所谓int * 类型，就是存放int变量地址的类型
		*/
int i ;
p = &i ;/*
			1: ok 把i的地址给p , p保存了i的地址，因此p指向i
			2: p不是i，i也不是p，对二者修改，互不影响
			3: 如果一个指针变量指向了某一个普通变量，则 *指针变量 的值，就  				完全等同于 普通变量
			例子:如果p是个指针变量,并且p存放了普通变量i的地址 , 则p指向了					普通变量i , *p 就完全等同于 i
			*p 就是以p的内容为地址的变量
		*/
p = i  ;// error 因为类型不一致,p只能存放int类型变量的地址,不能存放int类型变量的值
p = 55;//error 原因同上
```









#### 动态内存的分配

- malloc是 memor （内存） allocate（分配）的缩写

- ```c
  int * p = (int *)malloc(4);
  ```

  

  1. 要使用malloc函数,必须添加malloc.h这个头文件
  2. ( int * )malloc函数只有一个形参,并且形参是整型
     - ( char * )malloc( 200 )		200个变量
     - ( int * )malloc( 200 )            50个变量
     - ( double * )malloc( 200 )   25个变量
  3. 4表示请求系統为本程序分配4个字节
  4. malloc函数只能返回第一个字节的地址
  5. 一共分配了8个字节，p变量占4个字节，p所指向的内存也占4个字节
  6. p本身所占的内存是静态分配的,p所指向的内存是动态分配的

- ```c
  free(p);
  ```

  * 表示把所指向的内存给释放掉p本身的内存是静态的,不能由程序员手动释放，p本身的内夺只能在p变量所在的函数运行终止时由系统自动释放

- ```c
  *p = 5;//动态
  int p = 5;//静态
  ```

  * 上述代表的就是一个int变量,只不过*这个整型变量的内存分配方式和int p 的分配方式不同

- 传统数组的缺点

  - 数组长度必须事先制定，且只能是常整数，不能是变量
  - 传统形式定义的数组，该数组的内存程序员无法手动释放。数组一旦定义，系统为该数组分配的存储空间就会一直存在，直到该函数运行完毕时，数组的空间才会被系统释放
  - 数组的长度一旦定义,其长度就不能在更改，数组的长度不能在函数运行的过程中动态的扩充或缩小
  - A函数定义的数组,在A函数运行期间可以被其它函数使用,但A函数运行完毕之后,A函数中的数组将无法在被其他函数使用

- 为什么需要动态分配内存

  - 动态数组很好的解决了传统数组的这4个缺陷
  - 传统数组也叫静态数组

- 动态内存分配举例—动态数组的构造

  - ```c
    #include <stdio.h>
     
     int main(int argc, char *argv[])
     {
     	
     	int a[5];
    	int len;
    	int * pArr;
    	
    	printf("请输入你要放的元素个数：");
    	scanf("%d",&len);
    	pArr = (int *)malloc(4 * len);
    	/*本行动态的构造了一个一维数組,该一维数组的长度是
    	1en,该数组的数组名是pArr,该数组的每个元素是int
    	类型，类似于int pArr[len];*/
     	return 0;
     }
    ```

    

  - ![image-20191206201026336](D:\笔记\image\image-20191206201026336.png)

- 静态内存和动态内存的比较

- 跨函数使用内存的问题

#### 杂：

- 强转

  - sum = sum + ( float )( 1 / i )	这样是错误的，i 是int型，所以	1 / i	的结果为零
  - 1.0    默认是double类型

- ![image-20191127173839134](D:\笔记\image\image-20191127173839134.png)

- 浮点数的存储所带来的问题

  - float和 double都不能保证可以精确的存储一个小数

  - 例：

    - 有一个浮点型变量x,如何判断x的值是否是零			

      ```c
      if(|x-0.000001|<0.000001)
      	为零
      else
      	不为零
      ```

    - 为什么循环中更新的变量不能定义成浮点型

      - 浮点型不是准确值
  
- cpu，内存条，硬盘

  - cpu可以直接对内存条进行处理
  - CPU读入内存条数据，处理后返回内存条，最后存入硬盘
  - ![image-20191203205000420](D:\笔记\image\image-20191203205000420.png)
    - 控制线：控制cpu的读取和写入状态
    - 数据线：负责传输数据
    - **地址线：负责具体的内存单元**
      - ![image-20191203205542261](D:\笔记\image\image-20191203205542261.png)

​		                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             